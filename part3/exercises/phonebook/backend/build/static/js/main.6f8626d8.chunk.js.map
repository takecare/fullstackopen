{"version":3,"sources":["services/numbers.js","components/filter/Filter.js","components/numberform/NumberForm.js","components/numbers/Numbers.js","components/notification/Notification.js","App.js","index.js"],"names":["baseUrl","number","Promise","resolve","reject","axios","post","then","response","data","catch","error","id","original","get","put","delete","Filter","filter","handleChange","className","value","onChange","NumberForm","name","handleNameChange","handleNumberChange","addNumber","onSubmit","event","preventDefault","htmlFor","type","Numbers","persons","onDelete","list","person","toLocaleLowerCase","includes","map","key","onClick","Notification","message","stlyes","isError","text","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setNewMessage","storedTimeout","storeTimeout","useEffect","numbers","console","displayMessage","clearTimeout","timeout","setTimeout","displayError","target","find","window","confirm","item","replace","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6f8626d8.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst read = (id) => {\n  const original = axios.get(`${baseUrl}/${id ? id : \"\"}`);\n  return new Promise((resolve, reject) => {\n    original\n      .then((response) => resolve(response.data))\n      .catch((error) => reject(error));\n  });\n};\n\nconst create = (number) =>\n  new Promise((resolve, reject) => {\n    axios\n      .post(baseUrl, number)\n      .then((response) => resolve(response.data))\n      .catch((error) => reject(error));\n  });\n\nconst update = (number) =>\n  new Promise((resolve, reject) => {\n    axios\n      .put(`${baseUrl}/${number.id}`, number)\n      .then((response) => resolve(response.data))\n      .catch((error) => reject(error));\n  });\n\nconst remove = (id) =>\n  new Promise((resolve, reject) => {\n    axios\n      .delete(`${baseUrl}/${id}`)\n      .then((response) => resolve(response.data))\n      .catch((error) => reject(error));\n  });\n\nexport default {\n  create,\n  read,\n  update,\n  remove,\n};\n","import React from \"react\";\nimport \"./filter.css\";\n\nconst Filter = ({ filter, handleChange }) => {\n  return (\n    <div className=\"filter\">\n      <input value={filter} onChange={handleChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\nimport \"./numberform.css\";\n\nconst NumberForm = ({\n  name,\n  number,\n  handleNameChange,\n  handleNumberChange,\n  addNumber,\n}) => {\n  const handleSubmission = (event) => {\n    event.preventDefault();\n    addNumber();\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmission}>\n        <div className=\"numberform\">\n          <label htmlFor=\"name\">Name:</label>\n          <input\n            id=\"name\"\n            className=\"leading\"\n            value={name}\n            onChange={handleNameChange}\n          />\n          <label htmlFor=\"number\">Number:</label>\n          <input id=\"number\" value={number} onChange={handleNumberChange} />\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default NumberForm;\n","import React from \"react\";\nimport \"./numbers.css\";\n\nconst Numbers = ({ persons, filter, onDelete }) => {\n  const list = persons.filter((person) => {\n    return person.name.toLocaleLowerCase().includes(filter.toLocaleLowerCase());\n  });\n\n  return (\n    <div className=\"numbers\">\n      <ul>\n        {list.map((person) => (\n          <li key={person.name}>\n            {person.name}, {person.number}\n            <button onClick={() => onDelete(person.id)}>delete</button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Numbers;\n","import React from \"react\";\nimport \"./notification.css\";\n\nconst Notification = ({ message }) => {\n  const stlyes = message.isError ? \"error\" : \"message\";\n  return message.text ? (\n    <div className={`notification ${stlyes}`}>{message.text}</div>\n  ) : null;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport numbers from \"./services/numbers\";\nimport Filter from \"./components/filter/Filter\";\nimport NumberForm from \"./components/numberform/NumberForm\";\nimport Numbers from \"./components/numbers/Numbers\";\nimport Notification from \"./components/notification/Notification\";\n\nconst App = () => {\n  const MESSAGE_TIMEOUT_MS = 3000;\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [message, setNewMessage] = useState({ text: \"\", isError: false });\n  const [storedTimeout, storeTimeout] = useState(null);\n\n  const getNumbersHook = () => {\n    numbers\n      .read()\n      .then((data) => setPersons(data))\n      .catch((error) => {\n        setNewMessage({ text: \"Failed to load data.\", isError: true });\n        console.error(error);\n      });\n  };\n  useEffect(getNumbersHook, []);\n\n  const handleNameInputChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberInputChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterInputChange = (event) => {\n    setNewFilter(event.target.value);\n  };\n\n  const replace = (person) => {\n    numbers\n      .update({ ...person, number: newNumber })\n      .then((data) => {\n        setPersons(\n          persons.map((item) => (item.id === person.id ? data : item))\n        );\n        displayMessage(`${person.name}'s number replaced.`);\n        setNewName(\"\");\n        setNewNumber(\"\");\n      })\n      .catch((error) => {\n        displayError(`Failed to replace ${person.name}'s number.`);\n        console.error(error);\n      });\n  };\n\n  const displayMessage = (message) => {\n    clearTimeout(storedTimeout);\n    setNewMessage({ text: message, isError: false });\n    const timeout = setTimeout(() => {\n      storeTimeout(null);\n      setNewMessage({ ...message, text: null });\n    }, MESSAGE_TIMEOUT_MS);\n    storeTimeout(timeout);\n  };\n\n  const displayError = (message) => {\n    clearTimeout(storedTimeout);\n    setNewMessage({ text: message, isError: true });\n    const timeout = setTimeout(() => {\n      storeTimeout(null);\n      setNewMessage({ ...message, text: null });\n    }, MESSAGE_TIMEOUT_MS);\n    storeTimeout(timeout);\n  };\n\n  const addNumber = () => {\n    const person = persons.find((person) => person.name === newName);\n\n    if (person) {\n      const shouldRepalce = window.confirm(\n        `${newName} is already on the phonebook. Replace with a new one?`\n      );\n      if (shouldRepalce) {\n        replace(person);\n      }\n    } else {\n      const number = { name: newName, number: newNumber };\n      numbers\n        .create(number)\n        .then((data) => {\n          setPersons(persons.concat(data));\n          setNewName(\"\");\n          setNewNumber(\"\");\n        })\n        .catch((error) => {\n          displayError(\"Failed to add new number.\");\n          console.error(error);\n        });\n    }\n  };\n\n  const handleDelete = (id) => {\n    const person = persons.find((person) => person.id === id);\n    const shouldDelete = window.confirm(`Delete ${person.name}?`);\n    if (shouldDelete) {\n      numbers\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter((person) => person.id !== id));\n          displayMessage(`${person.name} removed.`);\n        })\n        .catch((error) => {\n          displayError(`Failed to remove ${person.name}.`);\n          console.error(error);\n        });\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <h3>Add new</h3>\n      <NumberForm\n        name={newName}\n        number={newNumber}\n        handleNameChange={handleNameInputChange}\n        handleNumberChange={handleNumberInputChange}\n        addNumber={addNumber}\n      />\n      <h3>Numbers</h3>\n      <Filter filter={newFilter} handleChange={handleFilterInputChange} />\n      <Numbers persons={persons} filter={newFilter} onDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}